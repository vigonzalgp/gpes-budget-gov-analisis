<div class="chart-container" style="position: relative; height:auto; width:100%">
    <canvas id="line_chart_1" width="350" height="250"></canvas>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        var ctx = document.getElementById("line_chart_1");
        var line_chart_1 = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020" ],
                datasets: [{
                    label: 'Presupuesto',
                    data: [3903423450, 3403259180, 2257769420, 1793127120, 1596574890, 1865615170, 2078657080, 2017002880, 1711803120, 1783198610, 1648256030, 2983402000],
                    borderColor: 'rgba(142, 229, 187, 1)',
                    backgroundColor: 'rgba(0,0,0,0)'
                }]
            },
            options: {
                title: {
                    display: true,
                    text: 'Presupuesto para actuaciones ambientales 2009-2021',
                    fontSize: 16,
                    fontFamily: '"Work Sans",sans-serif',
                    fontColor: '#212529'
                },
                legend: {
                    display: true,
                    labels: {
                        fontName: '"Work Sans",sans-serif',
                        fontColor: '#212529',
                        fontSize: 13
                    }
                },
                layout: {
                    padding: {
                        bottom: 20
                    }
                },

                tooltips: {
                    callbacks: {
                        label: function(tooltipItem, data) {
                            var value = tooltipItem.yLabel;
                            if (parseInt(value) >= 1000) {
                                return " " + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + ' €';
                            } else {
                                return '€' + value;
                            }
                        }
                    }
                },
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                            // max: 25,
                            fontFamily: '"Work Sans",sans-serif',
                            fontColor: '#212529',
                            callback: function(label, index, labels) {
                                return label / 1000000 + ' ';
                            }
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Importe en milliones de euro',
                            fontFamily: '"Work Sans",sans-serif',
                            fontColor: '#212529'
                        }
                    }],
                    xAxes: [{
                        ticks: {
                            beginAtZero: true,
                            fontFamily: '"Work Sans",sans-serif',
                            fontColor: '#212529'
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Año',
                            fontFamily: '"Work Sans",sans-serif',
                            fontColor: '#212529'
                        }
                    }]
                }
            }
        });
    });

</script>
